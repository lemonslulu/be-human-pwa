(()=>{const e=t=>document.querySelector(t),n=e("#startBtn"),o=e("#endBtn"),a=e("#resetBtn"),s=e("#elapsed"),r=e("#lifeYears"),i=e("#perDay"),l=e("#projectionText"),c=e("#proBtn"),d=e("#installBox"),u=localStorage.getItem("bh:paymentLink")||"";u||e("#proBox")?.classList.add("hidden");let m=!1,g=null,p=0,h=null;const f=+localStorage.getItem("bh:life")||79,v=+localStorage.getItem("bh:perDay")||1;r.value=f,i.value=v;function y(){h&&clearInterval(h),h=null}function E(e){const t=Math.floor(e/1e3),n=Math.floor(t/3600),o=Math.floor(t%3600/60),a=t%60;s.textContent=`${String(n).padStart(2,"0")}:${String(o).padStart(2,"0")}:${String(a).padStart(2,"0")}`}function S(e){const t=Math.min(48,Math.max(1,Number(i.value||1))),n=Math.min(120,Math.max(30,Number(r.value||79))),o=e*t*n*365.25,a=31557600000,s=o/a,u=Math.floor(s),c=Math.round((s-u)*365.25),d=s>=1?s>=10?s.toFixed(1):s.toFixed(2):s.toFixed(3);return{text:`At this pace, over a ${n}-year life, you'd spend about ${d} years of it on a screen.
      
That's roughly ${u} years and ${c} days.

(Example context: Many estimates suggest humans spend ~26 years asleep.)`,meta:{years:s,whole:u,days:c}}}function x(e){"idle"===e?(n.classList.remove("hidden"),o.classList.add("hidden"),a.classList.add("hidden")):"running"===e?(n.classList.add("hidden"),o.classList.remove("hidden"),a.classList.add("hidden")):"stopped"===e&&(n.classList.add("hidden"),o.classList.add("hidden"),a.classList.remove("hidden"))}n.addEventListener("click",()=>{m=!0,g=Date.now(),p=0,E(0),y(),h=setInterval(()=>{m&&null!=g&&(p=Date.now()-g,E(p))},200),x("running"),navigator.vibrate?.(20)}),o.addEventListener("click",()=>{null!=g&&(m=!1,p=Date.now()-g,E(p),y(),l.textContent=S(p).text,x("stopped"),navigator.vibrate?.([10,40,20]))}),a.addEventListener("click",()=>{m=!1,g=null,p=0,E(0),l.textContent="Stop a session to see your lifetime projection.",x("idle")}),r.addEventListener("input",()=>{const e=Math.min(120,Math.max(30,Number(r.value||79)));localStorage.setItem("bh:life",""+e)}),i.addEventListener("input",()=>{const e=Math.min(48,Math.max(1,Number(i.value||1)));localStorage.setItem("bh:perDay",""+e)}),function(){(window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone)||d.classList.remove("hidden")}(),c?.addEventListener("click",()=>{u&&window.open(u,"_blank","noopener")}),E(0),x("idle"),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("service-worker.js").catch(console.error)})})();